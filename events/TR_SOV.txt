###########################
# Ветка Совка
###########################

add_namespace = tr_soviet

# Съезд Коминтерна
country_event = {
	id = tr_soviet.1
	title = tr_soviet.1.t
	desc = tr_soviet.1.desc
	picture = GFX_report_event_poland_rejects

	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.1" }
	
	is_triggered_only = yes

	option = {
		ai_chance = {
			factor = 10
		}
		name = tr_soviet.1.a
		hidden_effect = {
			country_event = { id = tr_soviet.2 days = 1 }
		}
	}
}

country_event = {
	id = tr_soviet.2
	title = tr_soviet.2.t
	desc = tr_soviet.2.desc
	picture = GFX_report_event_poland_rejects

	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.2" }
	
	is_triggered_only = yes

	option = {
		ai_chance = {
			factor = 50
		}
		name = tr_soviet.2.a
		hidden_effect = {
			country_event = { id = tr_soviet.3 days = 1 }
		}
	}
	option = {
		ai_chance = {
			factor = 50
		}
		name = tr_soviet.2.b
		hidden_effect = {
			country_event = { id = tr_soviet.3 days = 1 }
		}
	}
}

country_event = {
	id = tr_soviet.3
	title = tr_soviet.3.t
	desc = tr_soviet.3.desc
	picture = GFX_report_event_poland_rejects

	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.3" }
	
	is_triggered_only = yes

	option = {
		ai_chance = {
			factor = 50
		}
		name = tr_soviet.3.a
		hidden_effect = {
			country_event = { id = tr_soviet.4 days = 1 }
		}
	}
	option = {
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		name = tr_soviet.3.b
		hidden_effect = {
			country_event = { id = tr_soviet.5 days = 1 }
		}
	}
}

country_event = {
	id = tr_soviet.4
	title = tr_soviet.4.t
	desc = tr_soviet.4.desc
	picture = GFX_report_event_poland_rejects

	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.4" }
	
	is_triggered_only = yes

	option = {
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		name = tr_soviet.4.a
		hidden_effect = {
			set_country_flag = USSR_democrat
			country_event = { id = tr_soviet.7 days = 1 }
		}
	}
	option = {
		ai_chance = {
			factor = 50
		}
		name = tr_soviet.4.b
		hidden_effect = {
			country_event = { id = tr_soviet.6 days = 0 }
			set_country_flag = USSR_from_democrat
		}
	}
}

country_event = {
	id = tr_soviet.5
	title = tr_soviet.5.t
	desc = tr_soviet.5.desc
	picture = GFX_report_event_poland_rejects

	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.5" }
	
	is_triggered_only = yes

	option = {
		ai_chance = {
			factor = 50
		}
		name = tr_soviet.5.a
		hidden_effect = {
			set_country_flag = USSR_expansionist
			country_event = { id = tr_soviet.7 days = 1 }
		}
	}
	option = {
		ai_chance = {
			factor = 50
		}
		name = tr_soviet.5.b
		hidden_effect = {
			country_event = { id = tr_soviet.6 days = 0 }
			set_country_flag = USSR_from_expansionist
		}
	}
}

country_event = {
	id = tr_soviet.6
	title = tr_soviet.6.t
	desc = tr_soviet.6.desc
	picture = GFX_report_event_poland_rejects

	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.6" }
	
	is_triggered_only = yes

	option = {
		ai_chance = {
			factor = 50
		}
		name = tr_soviet.6.a
		hidden_effect = {
			set_country_flag = USSR_isolationist
			country_event = { id = tr_soviet.7 days = 1 }
		}
	}
	option = {
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		name = tr_soviet.6.b
		hidden_effect = {
			if = {
				limit = {
					has_country_flag = USSR_from_democrat
				}
				country_event = { id = tr_soviet.4 days = 0 }
			}
			if = {
				limit = {
					has_country_flag = USSR_from_expansionist
				}
				country_event = { id = tr_soviet.5 days = 0 }
			}
		}
	}
}

country_event = {
	id = tr_soviet.7
	title = tr_soviet.7.t
	desc = tr_soviet.7.desc
	picture = GFX_report_event_poland_rejects

	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.7" }
	
	is_triggered_only = yes

	option = {
		ai_chance = {
			factor = 50
		}
		name = tr_soviet.7.a
		hidden_effect = {
			set_country_flag = SOV_end_congress_flag
		}
	}
}

country_event = {
	id = tr_soviet.8
	title = tr_soviet.8.t
	desc = tr_soviet.8.desc
	picture = GFX_report_event_joe_1

	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.8" }
	
	fire_only_once = yes

	is_triggered_only = yes

	option = {
		name = tr_soviet.8.a
		trigger = { TAG = USA }
		
		diplomatic_relation = { country = SOV relation = non_aggression_pact }
		
		SOV = { country_event = { id = tr_soviet.10 days = 5 } }
	}
	option = {
		name = tr_soviet.8.b
		trigger = { NOT = { TAG = USA } }
		
	}
}

country_event = {
	id = tr_soviet.9
	title = tr_soviet.9.t
	desc = tr_soviet.9.desc
	picture = GFX_report_event_joe_1

	fire_only_once = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.9" }
	
	trigger = {
		has_country_flag = SOV_we_really_do_have_them
		has_tech = nukes
	}
	
	mean_time_to_happen = {
		days = 10
	}
	option = {
		name = tr_soviet.9.a
		trigger = { TAG = USA }
		diplomatic_relation = { country = SOV relation = non_aggression_pact }
		SOV = { country_event = { id = tr_soviet.10 days = 5 } }
	}
	option = {
		name = tr_soviet.9.b
		trigger = { NOT = { TAG = USA } }
	}
}

country_event = {
	id = tr_soviet.10
	title = tr_soviet.10.t
	desc = tr_soviet.10.desc
	picture = GFX_report_event_canada_treaty
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = tr_soviet.10.a
	}
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.10" }
}

country_event = {
	id = tr_soviet.11
	title = tr_soviet.11.t
	desc = tr_soviet.11.desc
	picture = GFX_report_event_stalin_propaganda
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.11" }
	
	option = {
		ai_chance = {
			factor = 10
		}
		name = tr_soviet.11.a
		hidden_effect = {
			kill_ideology_leader = communism
			kill_country_leader = yes
		}
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
		}
		create_country_leader = {
			name = SOV_iosif_stalin
			desc = "POLITICS_JOSEPH_STALIN_DESC"
			picture = "Portrait_Soviet_Joseph_Stalin.dds"
			expire = "1960.1.1"
			ideology = democratic_communism
			traits = {
				socialist_trait
				#idea_socialism_with_human_face
				triumphant_revolutionary
				peaceful_bolshevik
			}
		}
		set_cosmetic_tag = USSR_dem
		hidden_effect = { news_event = { id = trworldnews.37 random_hours = 6 } } 
	}
	option = {
		ai_chance = {
			factor = 5
		}
		trigger = { always = no }
		name = tr_soviet.11.b
		hidden_effect = {
			kill_ideology_leader = communism
		}
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
		}
		create_country_leader = {
			name = SOV_aleksandr_kerensky
			desc = "POLITICS_ALEXANDER_FYODOROVICH_KERENSKY_DESC"
			picture = "gfx/leaders/SOV/Portrait_Soviet_Alexandr_Kerensky.dds"
			expire = "1960.1.1"
			ideology = democratic_communism
			traits = {
				socialist_trait
				#idea_socialism_with_human_face
				staunch_constitutionalist
				democratic_reformer
				exiled
			}
		}
		set_cosmetic_tag = USSR_dem
		country_event = { id = tr_soviet.19 days = 7 }
		set_global_flag = no_stalin
		hidden_effect = { news_event = { id = trworldnews.37 random_hours = 6 } } 
	}
	option = {
		ai_chance = {
			factor = 10
		}
		name = tr_soviet.11.c
		hidden_effect = {
			kill_ideology_leader = communism
		}
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
		}
		create_country_leader = {
			name = "Nikolai Bucharin"
			desc = "POLITICS_NIKOLAI_BUCHARIN_DESC"
			picture = "gfx/leaders/SOV/Portrait_Nikolai_Bukharin.dds"
			expire = "1960.1.1"
			ideology = democratic_communism
			traits = {
				socialist_trait
				#idea_socialism_with_human_face
				ideological_crusader
				financial_expert
			}
		}
		set_cosmetic_tag = USSR_dem
		country_event = { id = tr_soviet.19 days = 7 }
		set_global_flag = no_stalin
		hidden_effect = { news_event = { id = trworldnews.37 random_hours = 6 } } 
	}
	option = {
		ai_chance = {
			factor = 10
		}
		name = tr_soviet.11.d
		hidden_effect = {
			kill_ideology_leader = communism
		}
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
		}
		create_country_leader = {
			name = "Vyacheslav Molotov"
			desc = "POLITICS_VYACHESLAV_MOLOTOV_DESC"
			picture = "gfx/leaders/SOV/Vyacheslav_Molotov.dds"
			expire = "1960.1.1"
			ideology = democratic_communism
			traits = {
				socialist_trait
				#idea_socialism_with_human_face
				political_dancer
				indomitable_perseverance
			}
		}
		set_cosmetic_tag = USSR_dem
		country_event = { id = tr_soviet.19 days = 7 }
		set_global_flag = no_stalin
		hidden_effect = { news_event = { id = trworldnews.37 random_hours = 6 } } 
	}
}

country_event = {
	id = tr_soviet.12
	title = tr_soviet.12.t
	desc = tr_soviet.12.desc
	picture = GFX_report_event_generic_rally
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.12" }
	
	option = {
		name = tr_soviet.12.a
		every_country = {
			limit = {
				OR = {
					tag = SOV
					has_country_flag = spartakiada_accept1
				}
			}
			country_event = { id = tr_soviet.14 days = 7 }
		}
	}
}

country_event = {
	id = tr_soviet.13
	title = tr_soviet.13.t
	desc = tr_soviet.13.desc
	picture = GFX_report_event_generic_rally
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.13" }
	
	option = {
		ai_chance = {
			factor = 90
		}
		name = tr_soviet.13.a
		add_opinion_modifier = { target = SOV modifier = spartakiada_accept }
		set_country_flag = spartakiada_accept1
		SOV = {
			add_opinion_modifier = { target = ROOT modifier = spartakiada_accept } 
		}
	}
	option = {
		ai_chance = {
			factor = 10
		}
		name = tr_soviet.13.b
		add_opinion_modifier = { target = SOV modifier = spartakiada_decline }
		SOV = {
			add_opinion_modifier = { target = ROOT modifier = spartakiada_decline }
		}
	}
}

country_event = {
	id = tr_soviet.14
	title = tr_soviet.14.t
	desc = tr_soviet.14.desc
	picture = GFX_report_event_generic_rally
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.14" }
	
	option = {
		name = tr_soviet.14.a
		trigger = {
			original_tag = SOV
		}
		hidden_effect = {
			random_list = {
				90 = {
					country_event = { id = tr_soviet.15 days = 1 }
				}
				5 = {
					country_event = { id = tr_soviet.16 days = 1 }
				}
				4 = {
					country_event = { id = tr_soviet.17 days = 1 }
				}
				1 = {
					country_event = { id = tr_soviet.18 days = 1 }
				}
			}
		}
	}
	option = {
		name = tr_soviet.14.b
		trigger = {
			NOT = { original_tag = SOV }
		}
		hidden_effect = {
			random_list = {
				10 = {
					country_event = { id = tr_soviet.15 days = 1 }
				}
				25 = {
					country_event = { id = tr_soviet.16 days = 1 }
				}
				25 = {
					country_event = { id = tr_soviet.17 days = 1 }
				}
				40 = {
					country_event = { id = tr_soviet.18 days = 1 }
				}
			}
			clr_country_flag = spartakiada_accept1
		}
	}
}

#gold
country_event = {
	id = tr_soviet.15
	title = tr_soviet.15.t
	desc = tr_soviet.15.desc
	picture = GFX_report_event_generic_rally
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.15" }
	
	option = {
		name = tr_soviet.15.a
		add_political_power = 150
		add_stability = 0.1
		add_war_support = 0.1
		add_manpower = 2000
	}
}
#silver
country_event = {
	id = tr_soviet.16
	title = tr_soviet.16.t
	desc = tr_soviet.16.desc
	picture = GFX_report_event_generic_rally
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.16" }
	
	option = {
		name = tr_soviet.16.a
		add_political_power = 100
		add_stability = 0.075
		add_war_support = 0.05
		add_manpower = 1500
	}
}
#bronze
country_event = {
	id = tr_soviet.17
	title = tr_soviet.17.t
	desc = tr_soviet.17.desc
	picture = GFX_report_event_generic_rally
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.17" }
	
	option = {
		name = tr_soviet.17.a
		add_political_power = 50
		add_stability = 0.05
		add_war_support = 0.025
		add_manpower = 1000
	}
}
#nothing
country_event = {
	id = tr_soviet.18
	title = tr_soviet.18.t
	desc = tr_soviet.18.desc
	picture = GFX_report_event_generic_rally
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.18" }
	
	option = {
		name = tr_soviet.18.a
		add_political_power = 10
		add_manpower = 500
	}
}

#Начало раскола СССР
country_event = {
	id = tr_soviet.19
	title = tr_soviet.19.t
	desc = tr_soviet.19.desc
	picture = GFX_report_event_worker_protests
	fire_only_once = yes
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.19" }
	
	option = {
		ai_chance = {
			factor = 90
			modifier = {
				factor = 5
				ROOT = { has_country_flag = USSR_democrat }
			}
		}
		name = tr_soviet.19.a
		add_political_power = 50
		add_stability = 0.3
		hidden_effect = {
			SOV = {
				release = UKR
				release = BLR
				release = GEO
				release = AZR
				release = ARM
				release = MDA
				release = KAZ
				release = UZB
				release = KYR
				release = TAJ
				release = TMS
			}
			#if = {
			#	limit = { TAN = { is_in_faction_with = SOV } }
			#	TAN = { leave_faction = yes }
			#}
			#if = {
			#	limit = { MON = { is_in_faction_with = SOV } }
			#	MON = { leave_faction = yes }
			#}
			UKR = {
				#every_state = {
				#	limit = {
				#		is_core_of = PREV
				#		is_controlled_by = ROOT
				#		NOT = { is_controlled_by = PREV }
				#	}
				#	remove_core_of = ROOT
				#	PREV = { transfer_state = PREV }
				#}
				set_popularities = {
					democratic = 3
					fascism = 90
					communism = 2
					neutrality = 5
				}
				set_politics = {
					ruling_party = fascism
					elections_allowed = no
				}
				add_political_power = 1200
				load_oob = "UKR_collapse"
				add_timed_idea = {
					idea = SOV_republic_no_ally
					days = 30
				}
				country_event = { id = tr_soviet.9999 }
			}
			BLR = {
				set_popularities = {
					democratic = 10
					fascism = 70
					communism = 7
					neutrality = 13
				}
				set_politics = {
					ruling_party = fascism
					elections_allowed = no
				}
				add_political_power = 1200
				load_oob = "BLR_collapse"
				add_timed_idea = {
					idea = SOV_republic_no_ally
					days = 30
				}
				country_event = { id = tr_soviet.9999 }
			}
			GEO = {
				set_popularities = {
					democratic = 6
					fascism = 1
					communism = 90
					neutrality = 3
				}
				set_politics = {
					ruling_party = communism
					elections_allowed = no
				}
				add_political_power = 1200
				load_oob = "GEO_collapse"
				add_timed_idea = {
					idea = SOV_republic_no_ally
					days = 30
				}
				country_event = { id = tr_soviet.9999 }
			}
			AZR = {
				set_popularities = {
					democratic = 45
					communism = 30
					fascism = 25
				}
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
				add_political_power = 1200
				load_oob = "AZR_collapse"
				add_timed_idea = {
					idea = SOV_republic_no_ally
					days = 30
				}
				country_event = { id = tr_soviet.9999 }
			}
			ARM = {
				set_popularities = {
					fascism = 38
					democratic = 30
					communism = 32
				}
				set_politics = {
					ruling_party = fascism
					elections_allowed = no
				}
				add_political_power = 1200
				load_oob = "ARM_collapse"
				add_timed_idea = {
					idea = SOV_republic_no_ally
					days = 30
				}
				country_event = { id = tr_soviet.9999 }
			}
			MDA = {
				#137 = {
				#	add_core_of = MDA
				#	remove_core_of = SOV
				#}
				#transfer_state = 137
				set_popularities = {
					democratic = 15
					fascism = 15
					communism = 55
					neutrality = 15
				}
				set_politics = {
					ruling_party = communism
					elections_allowed = no
				}
				add_political_power = 1200
				load_oob = "MDA_collapse"
				add_timed_idea = {
					idea = SOV_republic_no_ally
					days = 30
				}
				country_event = { id = tr_soviet.9999 }
			}
			every_state = {
				limit = {
					OR = {
						state = 232
						state = 965
						state = 966
						state = 967
						state = 968
						state = 233
					}
				}
				MDA = { transfer_state = PREV }
			}
			
			UZB = {
				set_popularities = {
					democratic = 7
					fascism = 2
					communism = 9
					neutrality = 82
				}
				set_politics = {
					ruling_party = neutrality
					elections_allowed = yes
				}
				add_political_power = 1200
				load_oob = "UZB_collapse"
				add_timed_idea = {
					idea = SOV_republic_no_ally
					days = 30
				}
				country_event = { id = tr_soviet.9999 }
			}
			KAZ = {
				every_state = {
					limit = {
						is_core_of = KAZ
						is_controlled_by = ROOT
						NOT = { is_controlled_by = PREV }
					}
					remove_core_of = ROOT
					PREV = { transfer_state = PREV }
					add_core_of = PREV
				}
				set_popularities = {
					democratic = 6
					fascism = 1
					communism = 8
					neutrality = 85
				}
				set_politics = {
					ruling_party = neutrality
					elections_allowed = yes
				}
				add_political_power = 1200
				load_oob = "KAZ_collapse"
				add_timed_idea = {
					idea = SOV_republic_no_ally
					days = 30
				}
				country_event = { id = tr_soviet.9999 }
			}
			KYR = {
				set_popularities = {
					democratic = 6
					fascism = 1
					communism = 8
					neutrality = 85
				}
				set_politics = {
					ruling_party = neutrality
					elections_allowed = yes
				}
				add_political_power = 1200
				load_oob = "KGZ_collapse"
				add_timed_idea = {
					idea = SOV_republic_no_ally
					days = 30
				}
				country_event = { id = tr_soviet.9999 }
			}
			TAJ = {
				set_popularities = {
					democratic = 6
					fascism = 1
					communism = 8
					neutrality = 85
				}
				set_politics = {
					ruling_party = neutrality
					elections_allowed = yes
				}
				add_political_power = 1200
				load_oob = "TJK_collapse"
				add_timed_idea = {
					idea = SOV_republic_no_ally
					days = 30
				}
				country_event = { id = tr_soviet.9999 }
			}
			TMS = {
				set_popularities = {
					democratic = 6
					fascism = 1
					communism = 8
					neutrality = 85
				}
				set_politics = {
					ruling_party = neutrality
					elections_allowed = yes
				}
				add_political_power = 1200
				load_oob = "TKM_collapse"
				add_timed_idea = {
					idea = SOV_republic_no_ally
					days = 30
				}
				country_event = { id = tr_soviet.9999 }
			}
			ROOT = {
				if = {
					limit = { has_country_flag = USSR_democrat }
					set_cosmetic_tag = SOV_RSFSR_dem
				}
				if = {
					limit = { NOT = { has_country_flag = USSR_democrat } }
					set_cosmetic_tag = SOV_RSFSR
				}
				country_event = { id = tr_soviet.20 days = 7 }
				if = {
					limit = { is_ai = no }
					country_event = { id = tr_soviet.200 days = 0 }
				}
				every_state = {
					limit = {
						is_fully_controlled_by = UKR
					}
					remove_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = BLR
					}
					remove_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = GEO
					}
					remove_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = AZR
					}
					remove_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = ARM
					}
					remove_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = MDA
					}
					remove_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = KAZ
					}
					remove_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = UZB
					}
					remove_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = KYR
					}
					remove_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = TAJ
					}
					remove_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = TMS
					}
					remove_core_of = ROOT
				}
				
				set_variable = {
					var = sov_europe_resp
					value = 0
				}
			}
		}
	}
	
	option = {
		ai_chance = {
			factor = 10
		}
		name = tr_soviet.19.b
		add_political_power = -50
		add_stability = -0.1
		#####country_event = { id = tr_soviet.20 days = 7 }
	}
}

#СССР - угроза/дипломатия
country_event = {
	id = tr_soviet.20
	title = tr_soviet.20.t
	desc = tr_soviet.20.desc
	picture = GFX_report_event_generic_rally
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.20" }
	
	option = {
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0.1
				ROOT = { has_country_flag = USSR_democrat }
			}
			modifier = {
				factor = 10
				ROOT = { has_country_flag = USSR_expansionist }
			}
		}
		name = tr_soviet.20.a
		add_stability = 0.05
		custom_effect_tooltip = SOV_war_tt
		hidden_effect = {
			SOV = {
				add_opinion_modifier = { target = UKR modifier = sov_ugroza }
				add_opinion_modifier = { target = BLR modifier = sov_ugroza }
				add_opinion_modifier = { target = UZB modifier = sov_ugroza }
				add_opinion_modifier = { target = KAZ modifier = sov_ugroza }
				add_opinion_modifier = { target = GEO modifier = sov_ugroza }
				add_opinion_modifier = { target = AZR modifier = sov_ugroza }
				add_opinion_modifier = { target = KYR modifier = sov_ugroza }
				add_opinion_modifier = { target = TAJ modifier = sov_ugroza }
				add_opinion_modifier = { target = ARM modifier = sov_ugroza }
				add_opinion_modifier = { target = TMS modifier = sov_ugroza }
				add_opinion_modifier = { target = MDA modifier = sov_ugroza }
			}
			################country_event = { id = tr_soviet.2000 days = 5 }

			UKR = { add_opinion_modifier = { target = ROOT modifier = sov_ugroza } }
			BLR = { add_opinion_modifier = { target = ROOT modifier = sov_ugroza } }
			UZB = { add_opinion_modifier = { target = ROOT modifier = sov_ugroza } }
			KAZ = { add_opinion_modifier = { target = ROOT modifier = sov_ugroza } }
			GEO = { add_opinion_modifier = { target = ROOT modifier = sov_ugroza } }
			AZR = { add_opinion_modifier = { target = ROOT modifier = sov_ugroza } }
			KYR = { add_opinion_modifier = { target = ROOT modifier = sov_ugroza } }
			TAJ = { add_opinion_modifier = { target = ROOT modifier = sov_ugroza } }
			ARM = { add_opinion_modifier = { target = ROOT modifier = sov_ugroza } }
			TMS = { add_opinion_modifier = { target = ROOT modifier = sov_ugroza } }
			MDA = { add_opinion_modifier = { target = ROOT modifier = sov_ugroza } }
			
			UKR = { country_event = { id = tr_soviet.90 days = 3 } }
			
			#Временный костыль
			SOV = {
				#country_event = { id = tr_soviet.20 days = 7 }
				
				every_state = {
					limit = {
						is_fully_controlled_by = UKR
					}
					add_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = BLR
					}
					add_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = GEO
					}
					add_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = AZR
					}
					add_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = ARM
					}
					add_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = MDA
					}
					add_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = KAZ
					}
					add_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = UZB
					}
					add_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = KYR
					}
					add_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = TAJ
					}
					add_core_of = ROOT
				}
				every_state = {
					limit = {
						is_fully_controlled_by = TMS
					}
					add_core_of = ROOT
				}
			}
		}
	}
	option = {
		ai_chance = {
			factor = 50
		}
		name = tr_soviet.20.b
		add_war_support = 0.05
		custom_effect_tooltip = SOV_peace_tt
		hidden_effect = {
			country_event = { id = tr_soviet.21 days = 5 }
		}
	}
}

#Переговоры Укр+Бел 1
country_event = {
	id = tr_soviet.21
	title = tr_soviet.21.t
	desc = tr_soviet.21.desc
	picture = GFX_report_event_generic_rally
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.21" }
	
	option = {
		ai_chance = {
			factor = 50
			modifier = {
				factor = 3
				ROOT = { has_country_flag = USSR_democrat }
			}
		}
		name = tr_soviet.21.a
		SOV = { add_stability = -0.05 }
		UKR = {
			add_stability = 0.1
			add_war_support = 0.1
		}
		BLR = {
			add_stability = 0.1
			add_war_support = 0.1
		}
		hidden_effect = {
			country_event = { id = tr_soviet.22 days = 3 }
			add_to_variable = {
				var = sov_europe_resp
				value = 2
			}
		}
	}
	option = {
		ai_chance = {
			factor = 50
			modifier = {
				factor = 3
				ROOT = { has_country_flag = USSR_expansionist }
			}
		}
		name = tr_soviet.21.b
		SOV = {
			add_stability = 0.05
		}
		UKR = { 
			add_stability = -0.1
			add_opinion_modifier = { target = ROOT modifier = sov_language }
		}
		BLR = { 
			add_stability = -0.1
			add_opinion_modifier = { target = ROOT modifier = sov_language }
		}
		hidden_effect = {
			country_event = { id = tr_soviet.22 days = 3 }
		}
	}
}

#Переговоры Укр+Бел 2
country_event = {
	id = tr_soviet.22
	title = tr_soviet.22.t
	desc = tr_soviet.22.desc
	picture = GFX_report_event_generic_rally
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.22" }
	
	option = {
		ai_chance = {
			factor = 30
			modifier = {
				factor = 3
				ROOT = { has_country_flag = USSR_expansionist }
			}
			modifier = {
				factor = 1.5
				ROOT = { has_country_flag = USSR_democrat }
			}
			modifier = {
				factor = 0.5
				ROOT = { has_country_flag = USSR_isolationist }
			}
		}
		name = tr_soviet.22.a
		SOV = { 
			add_stability = 0.05
		}
		
		UKR = {
			add_stability = -0.1
			add_war_support = 0.1
			add_opinion_modifier = { target = ROOT modifier = sov_repression1 }
		}
		BLR = {
			add_stability = -0.1
			add_war_support = 0.1
			add_opinion_modifier = { target = ROOT modifier = sov_repression1 }
		}
		hidden_effect = {
			country_event = { id = tr_soviet.23 days = 3 }
		}
	}
	option = {
		ai_chance = {
			factor = 30
			modifier = {
				factor = 1.5
				ROOT = { has_country_flag = USSR_expansionist }
			}
			modifier = {
				factor = 3
				ROOT = { has_country_flag = USSR_democrat }
			}
		}
		name = tr_soviet.22.b
		add_political_power = -100
		add_stability = 0.05
		UKR = {
			add_stability = -0.1
			add_opinion_modifier = { target = ROOT modifier = sov_repression2 }
			custom_effect_tooltip = SOV_UKR_repression
		}
		BLR = {
			add_stability = -0.1
			add_opinion_modifier = { target = ROOT modifier = sov_repression2 }
			custom_effect_tooltip = SOV_BLR_repression
		}
		SOV = {
			custom_effect_tooltip = SOV_evacuation
		}
		hidden_effect = {
			UKR = {
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
			}
			BLR = {
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
			}
			SOV = {
				random_owned_controlled_state = {
					add_manpower = 20000
				}
				random_owned_controlled_state = {
					add_manpower = 20000
				}
				random_owned_controlled_state = {
					add_manpower = 20000
				}
				random_owned_controlled_state = {
					add_manpower = 20000
				}
				random_owned_controlled_state = {
					add_manpower = 20000
				}
				random_owned_controlled_state = {
					add_manpower = 20000
				}
				random_owned_controlled_state = {
					add_manpower = 20000
				}
				random_owned_controlled_state = {
					add_manpower = 20000
				}
				random_owned_controlled_state = {
					add_manpower = 20000
				}
				random_owned_controlled_state = {
					add_manpower = 20000
				}
				country_event = { id = tr_soviet.23 days = 3 }
			}
			subtract_from_variable = {
				var = sov_europe_resp
				value = 1
			}
		}
	}
	option = {
		ai_chance = {
			factor = 30
			modifier = {
				factor = 3
				ROOT = { has_country_flag = USSR_isolationist }
			}
		}
		name = tr_soviet.22.c
		SOV = {
			add_political_power = -150
			add_stability = -0.05
		}
		UKR = {
			add_stability = 0.1
			custom_effect_tooltip = SOV_UKR_repression2
		}
		BLR = {
			add_stability = 0.1
			custom_effect_tooltip = SOV_BLR_repression2
		}
		hidden_effect = {
			UKR = {
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
			}
			BLR = {
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
				random_owned_controlled_state = {
					limit = {
						has_resources_amount = {
							resource = manpower
							amount > 100000
						}
					}
					add_manpower = -10000
				}
			}
			SOV = {
				country_event = { id = tr_soviet.23 days = 3 }
			}
			add_to_variable = {
				var = sov_europe_resp
				value = 2
			}
		}
	}
}

#Переговоры Укр+Бел 3
country_event = {
	id = tr_soviet.23
	title = tr_soviet.23.t
	desc = tr_soviet.23.desc
	picture = GFX_report_event_generic_rally
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.23" }
	
	option = {
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				ROOT = { has_country_flag = USSR_expansionist }
			}
			modifier = {
				factor = 3
				ROOT = { has_country_flag = USSR_democrat }
			}
			modifier = {
				factor = 0.4
				ROOT = { has_country_flag = USSR_isolationist }
			}
		}
		name = tr_soviet.23.a
		SOV = {
			add_political_power = 100
			add_stability = -0.05
			remove_state_core = 137
			remove_state_core = 242
			remove_state_core = 243
			remove_state_core = 224
		}
		UKR = {
			transfer_state = 137
			transfer_state = 996			
			add_state_core = 137
			add_state_core = 996			
		}
		BLR = {
			transfer_state = 242
			transfer_state = 243
			transfer_state = 224
			transfer_state = 210
			transfer_state = 994			
			add_state_core = 242
			add_state_core = 243
			add_state_core = 224
			add_state_core = 210
			add_state_core = 994			
		}
		hidden_effect = {
			add_to_variable = {
				var = sov_europe_resp
				value = 2
			}
			country_event = { id = tr_soviet.24 days = 3 }
		}
	}
	option = {
		ai_chance = {
			factor = 50
		}
		name = tr_soviet.23.b
		SOV = {
			add_political_power = -50
			add_stability = 0.05
		}
		UKR = { 
			add_war_support = 0.15
			add_opinion_modifier = { target = ROOT modifier = sov_terra }
		}
		BLR = { 
			add_war_support = 0.15
			add_opinion_modifier = { target = ROOT modifier = sov_terra }
		}
		hidden_effect = {
			country_event = { id = tr_soviet.24 days = 3 }
		}
	}
}

#Итог переговоров Укр+Бел 4
country_event = {
	id = tr_soviet.24
	title = tr_soviet.24.t
	picture = GFX_report_event_generic_rally
	fire_only_once = yes
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.24" }
	
	desc = {
		text = tr_soviet.24.desc1
		trigger = {
			check_variable = {
				var = sov_europe_resp
				value = 1
				compare = less_than_or_equals
			}
		}
	}
	desc = {
		text = tr_soviet.24.desc2
		trigger = {
			AND = {
				check_variable = {
					sov_europe_resp > 1
				}
				check_variable = {
					sov_europe_resp < 6
				}
			}
		}
	}
	desc = {
		text = tr_soviet.24.desc3
		trigger = {
			check_variable = {
				sov_europe_resp = 6
			}
		}
	}

	option = {
		name = tr_soviet.24.a
		trigger = {
			check_variable = {
				var = sov_europe_resp
				value = 1
				compare = less_than_or_equals
			}
		}
		hidden_effect = {
			UKR = {
				add_ai_strategy = {
					type = antagonize
					id = "SOV"
					value = 200
				}
				add_ai_strategy = {
					type = conquer
					id = "SOV"
					value = 200
				}
				add_ai_strategy = {
					type = declare_war
					id = "SOV"
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = "POL"
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = "POL"
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = "BLR"
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = "BLR"
					value = 200
				}
				country_event = { id = tr_soviet.90 days = 3 }
			}
			BLR = {
				add_ai_strategy = {
					type = antagonize
					id = "SOV"
					value = 200
				}
				add_ai_strategy = {
					type = conquer
					id = "SOV"
					value = 200
				}
				add_ai_strategy = {
					type = declare_war
					id = "SOV"
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = "POL"
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = "POL"
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = "UKR"
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = "UKR"
					value = 200
				}
			}
			POL = {
				add_ai_strategy = {
					type = antagonize
					id = "SOV"
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = "UKR"
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = "UKR"
					value = 200
				}
				add_ai_strategy = {
					type = befriend
					id = "BLR"
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = "BLR"
					value = 200
				}
			}
			if = {
				limit = { country_exists = POL }
				random_list = {
					25 = {
						POL = {
							annex_country = {
								target = UKR
								transfer_troops = yes
							}
							annex_country = {
								target = BLR
								transfer_troops = yes
							}
						}
					}
					75 = {
					}
				}
			}
		}
	}
	option = {
		name = tr_soviet.24.b
		trigger = {
			AND = {
				check_variable = {
					sov_europe_resp > 1
				}
				check_variable = {
					sov_europe_resp < 6
				}
			}
		}
		hidden_effect = {
			UKR = {
				add_ai_strategy = {
					type = antagonize
					id = "SOV"
					value = 150
				}
				add_ai_strategy = {
					type = conquer
					id = "SOV"
					value = 100
				}
				country_event = { id = tr_soviet.90 days = 3 }
			}
			BLR = {
				add_ai_strategy = {
					type = antagonize
					id = "SOV"
					value = 150
				}
				add_ai_strategy = {
					type = conquer
					id = "SOV"
					value = 100
				}
			}
			if = {
				limit = { country_exists = POL }
				random_list = {
					15 = {
						POL = {
							annex_country = {
								target = UKR
								transfer_troops = yes
							}
							annex_country = {
								target = BLR
								transfer_troops = yes
							}
						}
					}
					85 = {
					}
				}
			}
		}
	}
	option = {
		name = tr_soviet.24.c
		trigger = {
			check_variable = {
				sov_europe_resp = 6
			}
		}
		hidden_effect = {
			UKR = {
				add_ai_strategy = {
					type = befriend
					id = "SOV"
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = "SOV"
					value = 200
				}
			}
			BLR = {
				add_ai_strategy = {
					type = befriend
					id = "SOV"
					value = 200
				}
				add_ai_strategy = {
					type = alliance
					id = "SOV"
					value = 200
				}
			}
		}
	}
}


#Временный ивент войны совминоров против РСФСР
country_event = {
	id = tr_soviet.90
	title = tr_soviet.90.t
	desc = tr_soviet.90.desc
	picture = GFX_event_soviet_tower
	is_triggered_only = yes
	hidden = yes

	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.90" }
	
	option = {
		name = tr_soviet.90.a
		ROOT = {
			remove_ideas = SOV_republic_no_ally
			create_faction = "Union_SNG"
			add_to_faction = BLR
			add_to_faction = GEO
			add_to_faction = AZR
			add_to_faction = ARM
			add_to_faction = MDA
			add_to_faction = KAZ
			add_to_faction = UZB
			add_to_faction = KYR
			add_to_faction = TAJ
			add_to_faction = TMS
			add_to_faction = TAN
			add_to_faction = MON
			
			create_wargoal = {
				target = SOV
				type = annex_everything
			}
			
			#declare_war_on = {
			#	target = SOV
			#	type = annex_everything
			#}
		}
		
		every_country = {
			limit = {
				is_in_faction_with = ROOT
				NOT = { tag = ROOT }
			}
			#remove_ideas = SOV_republic_no_ally
			add_threat = 1
			add_manpower = 500000
			add_ai_strategy = {
				type = antagonize
				id = "SOV"
				value = 500
			}
			add_ai_strategy = {
				type = conquer
				id = "SOV"
				value = 500
			}
			add_ai_strategy = {
				type = declare_war
				id = "SOV"
				value = 500
			}
			add_ai_strategy = {
				type = befriend
				id = ROOT
				value = 200
			}
			add_ai_strategy = {
				type = alliance
				id = ROOT
				value = 200
			}
			add_timed_idea = {
				idea = SOV_republic_help_ally
				days = 30
			}
			#add_to_war = {
			#	targeted_alliance = UKR 
			#	enemy = SOV 
			#	hostility_reason = asked_to_join
			#}
			
			#UKR = {
			#	annex_country = {
			#		target = PREV
			#		transfer_troops = yes
			#	}
			#}
		}
	}
}

country_event = {
	id = tr_soviet.91
	title = tr_soviet.91.t
	desc = tr_soviet.91.desc
	picture = GFX_event_soviet_tower
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.91" }
	
	option = {
		name = tr_soviet.91.a
		GEO = {
			add_to_war = {
				targeted_alliance = ROOT 
				enemy = SOV 
				hostility_reason = asked_to_join
			}
		}
	}
	option = {
		name = tr_soviet.91.b
		AZR = {
			add_to_war = {
				targeted_alliance = ROOT 
				enemy = SOV 
				hostility_reason = asked_to_join
			}
		}
	}
	option = {
		name = tr_soviet.91.c
		ARM = {
			add_to_war = {
				targeted_alliance = ROOT 
				enemy = SOV 
				hostility_reason = asked_to_join
			}
		}
	}
	option = {
		name = tr_soviet.91.d
		MDA = {
			add_to_war = {
				targeted_alliance = ROOT 
				enemy = SOV 
				hostility_reason = asked_to_join
			}
		}
	}
}

country_event = {
	id = tr_soviet.92
	title = tr_soviet.92.t
	desc = tr_soviet.92.desc
	picture = GFX_event_soviet_tower
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.92" }
	
	option = {
		name = tr_soviet.92.a
		KAZ = {
			add_to_war = {
				targeted_alliance = ROOT 
				enemy = SOV 
				hostility_reason = asked_to_join
			}
		}
	}
	option = {
		name = tr_soviet.92.b
		UZB = {
			add_to_war = {
				targeted_alliance = ROOT 
				enemy = SOV 
				hostility_reason = asked_to_join
			}
		}
	}
	option = {
		name = tr_soviet.92.c
		KYR = {
			add_to_war = {
				targeted_alliance = ROOT 
				enemy = SOV 
				hostility_reason = asked_to_join
			}
		}
	}
	option = {
		name = tr_soviet.92.d
		TAJ = {
			add_to_war = {
				targeted_alliance = ROOT 
				enemy = SOV 
				hostility_reason = asked_to_join
			}
		}
		TMS = {
			add_to_war = {
				targeted_alliance = ROOT 
				enemy = SOV 
				hostility_reason = asked_to_join
			}
		}
	}
}

country_event = {
	id = tr_soviet.93
	title = tr_soviet.93.t
	desc = tr_soviet.93.desc
	picture = GFX_event_soviet_tower
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.93" }
	
	option = {
		name = tr_soviet.93.a
		TAN = {
			add_to_war = {
				targeted_alliance = ROOT 
				enemy = SOV 
				hostility_reason = asked_to_join
			}
		}
	}
	option = {
		name = tr_soviet.93.b
		MON = {
			add_to_war = {
				targeted_alliance = ROOT 
				enemy = SOV 
				hostility_reason = asked_to_join
			}
		}
	}
}



## Palace
country_event = {
	id = tr_soviet.98
	title = tr_soviet.98.t
	desc = tr_soviet.98.desc
	picture = GFX_event_soviet_tower
	is_triggered_only = yes

	immediate = {
		capital_scope = {
			save_event_target_as = capital_place
		}
	}

	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.98" }
	
	#Мск
	option = {
		ai_chance = {
			factor = 80
		}
		name = tr_soviet.98.a
		trigger = {
			has_full_control_of_state = 219
		}
		set_country_flag = construction_sov_palace_began
		#Мск
		219 = {
			set_state_flag = palace_place
		}
	}
	#Сталинград
	option = {
		ai_chance = {
			factor = 10
			modifier = {
				factor = 5
				NOT = { has_full_control_of_state = 219 }
			}
		}
		name = tr_soviet.98.b
		trigger = {
			has_full_control_of_state = 217
		}
		set_country_flag = construction_sov_palace_began
		217 = {
			set_state_flag = palace_place
		}
	}
	#Ленинград
	option = {
		ai_chance = {
			factor = 10
		}
		name = tr_soviet.98.c
		trigger = {
			has_full_control_of_state = 195
		}
		set_country_flag = construction_sov_palace_began
		195 = {
			set_state_flag = palace_place
		}
	}
	#Запасной вариант
	option = {
		ai_chance = {
			factor = 10
		}
		name = tr_soviet.98.d
		trigger = {
			OR = {
				AND = {
					NOT = { has_full_control_of_state = 219 }
					NOT = { has_full_control_of_state = 217 }
					NOT = { has_full_control_of_state = 195 }
				}
				AND = {
					219 = { is_capital = no }
					217 = { is_capital = no }
					195 = { is_capital = no }
				}
			}
		}
		set_country_flag = construction_sov_palace_began
		capital_scope = {
			set_state_flag = palace_place
		}
	}
}

country_event = {
	id = tr_soviet.99
	title = tr_soviet.99.t
	desc = tr_soviet.99.desc
	picture = GFX_event_soviet_tower
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.99" }
	
	option = {
		name = tr_soviet.99.a
		add_political_power = 200
		add_ideas = SOV_palace_constructed
		random_state = {
			limit = { has_state_flag = palace_place }
			add_manpower = 15000
			add_extra_state_shared_building_slots = 1
			save_event_target_as = palace_place
		}
		set_capital = { state = event_target:palace_place }
		hidden_effect = { news_event = { id = trworldnews.41 } }
		every_other_country = {
			limit = { is_in_faction_with = SOV }
			add_political_power = 125
			capital_scope = {
				add_manpower = 7500
			}
			add_ideas = SOV_palace_constructed_ally
		}
	}
}

#Убегать из СССР
country_event = {
	id = tr_soviet.200
	title = tr_soviet.200.t
	desc = tr_soviet.200.desc
	picture = GFX_event_soviet_tower
	is_triggered_only = yes

	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.100" }
	
	option = {
		name = tr_soviet.200.a
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_ai = yes
			}
		}
		hidden_effect = {
			GEO = { change_tag_from = ROOT }
		}
		
	}
	option = {
		name = tr_soviet.200.b
		ai_chance = {
			factor = 10
		}
	}
}

#copies technologies
country_event = {
	id = tr_soviet.9999
	hidden = yes
	is_triggered_only = yes
	
	immediate = { log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): event tr_soviet.9999" }
	
	immediate = {
		ROOT = {
			inherit_technology = SOV
		}
	}
}
