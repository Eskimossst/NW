### НАХЕР ЭТОТ ПОЗОР. ПОКА ВРЕМЕННО БУДЕТ ВАНИЛЬ

focus_tree = {
	id = national_spain_focus

	country = {
		factor = 0

		modifier = {
			add = 10
			tag = SPA
		}
	}

	default = no
	
	continuous_focus_position = { x = 50 y = 1300 }
	
	shared_focus = SPA_production_british_torpedo_bombers
	shared_focus = SPA_production_german_submarines
	shared_focus = SPA_automatic_mp38
	

	###########################
	#### POLITICAL SECTION ####
	###########################
	
	
	focus = {
		id = SPA_create_coordinating_junta
		icon = GFX_z_goal_government
		x = 9
		y = 0
		cost = 2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 100
		}
		available = {
		}
		bypass = {
		}
		
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_create_coordinating_junta"
			add_political_power = 200
		}
	}
	
	#focus = {
	#	id = SPA_postwar_reconstruction
	#	icon = GFX_goal_generic_production
	#	#prerequisite = { focus = SPA_create_coordinating_junta }
	#	x = 2
	#	y = 0
	#	relative_position_id = SPA_create_coordinating_junta
	#	
	#	cost = 10
	#	
	#	cancel_if_invalid = yes
	#	continue_if_invalid = no
	#	available_if_capitulated = yes
	#
	#	ai_will_do = {
	#		factor = 5
	#	}
	#	available = {
	#		has_completed_focus = SPA_create_coordinating_junta
	#		has_global_flag = scw_over
	#	}
	#	bypass = {
	#	}
	#
	#	completion_reward = {
	#		log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_postwar_reconstruction"
	#		add_timed_idea = { idea = SPA_recovering_from_civil_war days = 1095 }
	#		add_stability = 0.1
	#	}
	#}
	
	
	############################
	#### NEUTRALITY SECTION ####
	############################
	
	focus = {
		id = SPA_junta
		icon = GFX_z_goal_government_2
		prerequisite = { focus = SPA_create_coordinating_junta }
		mutually_exclusive = { focus = SPA_crusaders focus = SPA_nationalists }
		x = -6
		y = 1
		relative_position_id = SPA_create_coordinating_junta
		
		cost = 3
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				OR = {
					is_historical_focus_on = yes
					has_country_flag = NW_SPA_AI_MONARCHY
					has_country_flag = NW_SPA_AI_FASCIST
					has_country_flag = NW_SPA_AI_FASCIST_ALTERNATE
				}
			}
			modifier = {
				add = 500
				has_country_flag = NW_SPA_AI_NEUTRAL
			}
		}
		available = {
			NOT = { has_country_flag = SPA_focus_junta_block_flag }
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_junta"
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.25
			}
			set_cosmetic_tag = SPA_directory
		}
	}
	
	focus = {
		id = SPA_caudillo_sanhurho
		icon = GFX_z_goal_caudillo_sanhurho
		prerequisite = { focus = SPA_junta }
		x = 0
		y = 1
		relative_position_id = SPA_junta
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
			
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_caudillo_sanhurho"
			add_political_power = 100
			set_party_name = { ideology = neutrality name = SPA_junta_sanhurho long_name = SPA_junta_sanhurho }
		}
	}
	
	focus = {
		id = SPA_get_rid_party_system
		icon = GFX_focus_usa_voter_registration_act
		prerequisite = { focus = SPA_caudillo_sanhurho }
		x = -2
		y = 1
		relative_position_id = SPA_caudillo_sanhurho
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
			
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_get_rid_party_system"
			add_ideas = SPA_get_rid_party_system_idea
		}
	}
	
	focus = {
		id = SPA_loyalty_to_new_leader
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = SPA_get_rid_party_system }
		x = 1
		y = 1
		relative_position_id = SPA_get_rid_party_system
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
			
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_loyalty_to_new_leader"
			add_ideas = SPA_loyalty_to_new_leader
		}
	}
	
	focus = {
		id = SPA_new_spanish_mode
		icon = GFX_focus_generic_little_entente
		prerequisite = { focus = SPA_loyalty_to_new_leader }
		x = -1
		y = 1
		relative_position_id = SPA_loyalty_to_new_leader
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
			
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_new_spanish_mode"
			add_ideas = SPA_new_spanish_mode
		}
	}
	
	focus = {
		id = SPA_get_rid_liberals
		icon = GFX_z_goal_anti_democracy
		prerequisite = { focus = SPA_caudillo_sanhurho }
		x = 2
		y = 1
		relative_position_id = SPA_caudillo_sanhurho
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
			
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_get_rid_liberals"
			add_popularity = {
				ideology = democratic
				popularity = -0.1
			}
		}
	}
	
	focus = {
		id = SPA_repression_against_left
		icon = GFX_z_goal_generic_political_commissars
		prerequisite = { focus = SPA_get_rid_liberals }
		x = -1
		y = 1
		relative_position_id = SPA_get_rid_liberals
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
			
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_repression_against_left"
			add_popularity = {
				ideology = communism
				popularity = -0.05
			}
			add_popularity = {
				ideology = trozkism
				popularity = -0.05
			}
		}
	}
	
	focus = {
		id = SPA_celebration_of_traditional_values
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = SPA_repression_against_left }
		x = 1
		y = 1
		relative_position_id = SPA_repression_against_left
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
			
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_celebration_of_traditional_values"
			add_ideas = SPA_celebration_of_traditional_values
		}
	}
	
	focus = {
		id = SPA_new_spanish_empire
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = SPA_caudillo_sanhurho }
		x = 0
		y = 1
		relative_position_id = SPA_caudillo_sanhurho
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
			
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_new_spanish_empire"
			add_war_support = 0.1
		}
	}
	
	focus = {
		id = SPA_conquest_in_name_of_sanhurho
		icon = GFX_z_goal_swing_the_sword
		prerequisite = { focus = SPA_new_spanish_empire }
		x = 0
		y = 2
		relative_position_id = SPA_new_spanish_empire
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
			
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_conquest_in_name_of_sanhurho"
			add_ideas = SPA_conquest_in_name_of_sanhurho
		}
	}
	
	focus = {
		id = SPA_army_as_basis_spain
		icon = GFX_z_goal_new_army
		prerequisite = { focus = SPA_new_spanish_mode }
		prerequisite = { focus = SPA_conquest_in_name_of_sanhurho }
		prerequisite = { focus = SPA_celebration_of_traditional_values }
		x = 0
		y = 1
		relative_position_id = SPA_conquest_in_name_of_sanhurho
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
			
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_army_as_basis_spain"
			add_ideas = SPA_army_as_basis_spain
		}
	}
	
	focus = {
		id = SPA_invincible_armada
		icon = GFX_z_national_greatness
		prerequisite = { focus = SPA_army_as_basis_spain }
		mutually_exclusive = {
			focus = SPA_catholic_league
			focus = SPA_talks_accession_axis
			focus = SPA_call_for_italy_help
			focus = SPA_antisocialist_union
			focus = SPA_latin_union
		}
		x = 0
		y = 1
		relative_position_id = SPA_army_as_basis_spain
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			is_subject = no
			is_in_faction = no
			OR = {
				has_global_flag = scw_over
				date > 1939.1.1
			}
		}
		bypass = {
			OR = {
				is_in_faction = yes
				is_subject = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_invincible_armada"
			set_rule = { can_create_factions = yes }
			create_faction = SPA_invincible_armada
		}
	}
	
	focus = {
		id = SPA_gold_coast
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SPA_invincible_armada }
		x = -4
		y = 1
		relative_position_id = SPA_invincible_armada
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
			
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_gold_coast"
			375 = { add_claim_by = ROOT }
			376 = { add_claim_by = ROOT }
			377 = { add_claim_by = ROOT }
			378 = { add_claim_by = ROOT }
		}
	}
	
	focus = {
		id = SPA_return_new_spain
		icon = GFX_focus_mex_jefe_maximo
		prerequisite = { focus = SPA_invincible_armada }
		x = -2
		y = 1
		relative_position_id = SPA_invincible_armada
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
			
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_return_new_spain"
			every_state = {
				limit = {
					OR = {
						is_core_of = MEX
						is_core_of = KMX
					}
				}
				add_claim_by = ROOT
			}
			add_ai_strategy = {
				type = antagonize
				id = "MEX"
				value = 200
			}
			add_ai_strategy = {
				type = antagonize
				id = "KMX"
				value = 200
			}
		}
	}
	
	focus = {
		id = SPA_former_lands_aragon
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = SPA_invincible_armada }
		x = 0
		y = 1
		relative_position_id = SPA_invincible_armada
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
			
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_former_lands_aragon"
			every_state = {
				limit = {
					is_core_of = SIC
				}
				add_claim_by = ROOT
			}
		}
	}
	
	focus = {
		id = SPA_spanish_netherlands
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = SPA_invincible_armada }
		x = 2
		y = 1
		relative_position_id = SPA_invincible_armada
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
			
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_spanish_netherlands"
			every_state = {
				limit = {
					OR = {
						is_core_of = BEL
						state = 29
						state = 1037
						state = 1038
					}
				}
				add_claim_by = ROOT
			}
			add_ai_strategy = {
				type = antagonize
				id = "BEL"
				value = 200
			}
		}
	}
	
	focus = {
		id = SPA_empire_carlos_V
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SPA_invincible_armada }
		x = 4
		y = 1
		relative_position_id = SPA_invincible_armada
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
			
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_empire_carlos_V"
			every_state = {
				limit = {
					OR = {
						is_core_of = AUS
						is_core_of = GER
					}
				}
				add_claim_by = ROOT
			}
			add_ai_strategy = {
				type = antagonize
				id = "AUS"
				value = 200
			}
			add_ai_strategy = {
				type = antagonize
				id = "GER"
				value = 200
			}
		}
	}
	
	
	##########################
	#### MONARCHY SECTION ####
	##########################
	
	focus = {
		id = SPA_crusaders
		icon = GFX_z_goal_monarchism_1
		prerequisite = { focus = SPA_create_coordinating_junta }
		mutually_exclusive = { focus = SPA_junta focus = SPA_nationalists }
		x = 0
		y = 1
		relative_position_id = SPA_create_coordinating_junta
		
		cost = 3
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 20
			modifier = {
				factor = 0
				OR = {
					is_historical_focus_on = yes
					has_country_flag = NW_SPA_AI_NEUTRAL
					has_country_flag = NW_SPA_AI_FASCIST
					has_country_flag = NW_SPA_AI_FASCIST_ALTERNATE
				}
			}
			modifier = {
				add = 500
				has_country_flag = NW_SPA_AI_MONARCHY
			}
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_crusaders"
			set_politics = {
				ruling_party = monarchy
				elections_allowed = no
			}
			add_popularity = {
				ideology = monarchy
				popularity = 0.25
			}
		}
	}
	
	focus = {
		id = SPA_return_privileges_church
		icon = GFX_z_goal_monarchism_10
		prerequisite = { focus = SPA_crusaders }
		x = 0
		y = 1
		relative_position_id = SPA_crusaders
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_return_privileges_church"
			add_stability = 0.1
		}
	}
	
	focus = {
		id = SPA_blessing_vatican
		icon = GFX_z_goal_ask_pope
		prerequisite = { focus = SPA_return_privileges_church }
		x = -2
		y = 1
		relative_position_id = SPA_return_privileges_church
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_blessing_vatican"
			VAT = { country_event = { id = NWspain.106 days = 1 } }
		}
	}
	
	focus = {
		id = SPA_share_power_with_church
		icon = GFX_z_goal_monarchism_11
		prerequisite = { focus = SPA_blessing_vatican }
		x = 0
		y = 1
		relative_position_id = SPA_blessing_vatican
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_share_power_with_church"
			add_ideas = SPA_share_power_with_church_idea
		}
	}
	
	focus = {
		id = SPA_honour_of_monarch
		icon = GFX_z_goal_vanguard_monarchy
		prerequisite = { focus = SPA_blessing_vatican }
		x = 2
		y = 1
		relative_position_id = SPA_blessing_vatican
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_honour_of_monarch"
			add_ideas = SPA_honour_of_monarch
		}
	}
	
	focus = {
		id = SPA_repress_republicans
		icon = GFX_z_goal_anti_democracy
		prerequisite = { focus = SPA_return_privileges_church }
		x = 0
		y = 1
		relative_position_id = SPA_return_privileges_church
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_repress_republicans"
			add_popularity = {
				ideology = democratic
				popularity = -0.05
			}
		}
	}
	
	focus = {
		id = SPA_flag_of_christ
		icon = GFX_z_goal_monarchism_19
		prerequisite = { focus = SPA_return_privileges_church }
		x = 2
		y = 1
		relative_position_id = SPA_return_privileges_church
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_flag_of_christ"
			add_ideas = SPA_flag_of_christ
		}
	}
	
	focus = {
		id = SPA_restoration_monarchy
		icon = GFX_z_goal_national_council
		prerequisite = { focus = SPA_crusaders focus = SPA_dictatorship_of_franco }
		mutually_exclusive = { focus = SPA_expand_power_generalissimo }
		x = 5
		y = 2
		relative_position_id = SPA_crusaders
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_restoration_monarchy"
			if = {
				limit = { has_completed_focus = SPA_crusaders }
				country_event = { id = NWspain.108 }
			}
			if = {
				limit = { has_completed_focus = SPA_dictatorship_of_franco }
				add_political_power = 100
			}
		}
	}
	
	focus = {
		id = SPA_invite_javier_parma
		icon = GFX_z_goal_coronation_javier_parma
		prerequisite = { focus = SPA_restoration_monarchy }
		mutually_exclusive = { focus = SPA_invite_alfonso_XIII }
		x = -3
		y = 1
		relative_position_id = SPA_restoration_monarchy
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			NOT = { has_completed_focus = SPA_dictatorship_of_franco }
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_invite_javier_parma"
			set_party_name = { ideology = monarchy name = SPA_carlist_spain_party long_name = SPA_carlist_spain_party }
			create_country_leader = {
				name = "Javier I"
				desc = "POLITICS_JAVIER_I_DESC"
				picture = "GFX_portrait_SPA_xavier_of_bourbon_parma"
				expire = "1965.1.1"
				ideology = dual_monarchy
				traits = {
					anti_communist
				    the_sacred_king	
				}
			}
			set_cosmetic_tag = SPR_carlist_spain
		}
	}
	
	focus = {
		id = SPA_repress_phalangists
		icon = GFX_focus_generic_anti_fascist_diplomacy
		prerequisite = { focus = SPA_invite_javier_parma }
		x = -4
		y = 1
		relative_position_id = SPA_invite_javier_parma
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_repress_phalangists"
			add_popularity = {
				ideology = fascism
				popularity = -0.05
			}
		}
	}
	
	focus = {
		id = SPA_repress_alfonists
		icon = GFX_focus_rom_parties_end
		prerequisite = { focus = SPA_repress_phalangists }
		x = 0
		y = 1
		relative_position_id = SPA_repress_phalangists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_repress_alfonists"
			add_stability = 0.1
		}
	}
	
	focus = {
		id = SPA_claim_lands_habsburgs
		icon = GFX_focus_rom_royal_dictatorship
		prerequisite = { focus = SPA_invite_javier_parma }
		x = -2
		y = 1
		relative_position_id = SPA_invite_javier_parma
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_claim_lands_habsburgs"
			every_state = {
				limit = {
					OR = {
						is_core_of = AUS
						is_core_of = HUN
					}
				}
				add_claim_by = ROOT
			}
			
		}
	}
	
	focus = {
		id = SPA_feud_with_left_block
		icon = GFX_z_communism3
		prerequisite = { focus = SPA_invite_javier_parma }
		x = 0
		y = 1
		relative_position_id = SPA_invite_javier_parma
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_feud_with_left_block"
			every_country = {
				limit = {
					OR = {
						has_government = democratic
						has_government = trozkism
						has_government = communism
						has_government = anarchism
					}
				}
				add_opinion_modifier = { target = ROOT modifier = SPA_feud_with_left_block_negative }
				ROOT = { add_opinion_modifier = { target = PREV modifier = SPA_feud_with_left_block_negative } }
			}
			every_country = {
				limit = {
					OR = {
						has_government = monarchy
						has_government = fascism
					}
				}
				add_opinion_modifier = { target = ROOT modifier = SPA_feud_with_left_block_positive }
				ROOT = { add_opinion_modifier = { target = PREV modifier = SPA_feud_with_left_block_positive } }
			}
		}
	}
	
	focus = {
		id = SPA_saving_world_from_red_scourge
		icon = GFX_z_goal_monarchism_21
		prerequisite = { focus = SPA_feud_with_left_block }
		x = 0
		y = 1
		relative_position_id = SPA_feud_with_left_block
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_saving_world_from_red_scourge"
			add_ideas = SPA_saving_world_from_red_scourge
			add_named_threat = { 
				threat = 5 
				name = SPA_saving_world_from_red_scourge
			}
		}
	}
	
	focus = {
		id = SPA_antisocialist_union
		icon = GFX_focus_spa_no_compromise_on_carlist_ideals
		prerequisite = { focus = SPA_saving_world_from_red_scourge }
		mutually_exclusive = {
			focus = SPA_catholic_league
			focus = SPA_talks_accession_axis
			focus = SPA_call_for_italy_help
			focus = SPA_latin_union
			focus = SPA_invincible_armada
		}
		x = 0
		y = 1
		relative_position_id = SPA_saving_world_from_red_scourge
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			is_subject = no
			is_in_faction = no
			OR = {
				has_global_flag = scw_over
				date > 1939.1.1
			}
		}
		bypass = {
			OR = {
				is_in_faction = yes
				is_subject = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_antisocialist_union"
			set_rule = { can_create_factions = yes }
			create_faction = SPA_antisocialist_union
		}
	}
	
	focus = {
		id = SPA_king_of_etruria
		icon = GFX_focus_attack_italy
		prerequisite = { focus = SPA_antisocialist_union }
		x = -1
		y = 1
		relative_position_id = SPA_antisocialist_union
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			NOT = {
				has_war_with = SPR
				has_war_with = ARA
				is_subject_of = ITA
				is_in_faction_with = ITA
			}
		}
		bypass = {
			OR = {
				NOT = { country_exists = ITA }
				ITA = { is_subject_of = ROOT }
				has_war_with = ITA
				is_in_faction_with = ITA
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_king_of_etruria"
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ITA
			}
		}
	}
	
	focus = {
		id = SPA_invite_portugal
		icon = GFX_z_goal_friend_portugal
		prerequisite = { focus = SPA_antisocialist_union }
		x = 1
		y = 1
		relative_position_id = SPA_antisocialist_union
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			is_faction_leader = yes
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_invite_portugal"
			POR = { country_event = { id = generic.5 } }
		}
	}
	
	focus = {
		id = SPA_invite_alfonso_XIII
		icon = GFX_z_goal_invite_alfonso
		prerequisite = { focus = SPA_restoration_monarchy }
		mutually_exclusive = { focus = SPA_invite_javier_parma }
		mutually_exclusive = { focus = SPA_invite_otto_von_habsburg }
		x = 0
		y = 1
		relative_position_id = SPA_restoration_monarchy
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_invite_alfonso_XIII"
			create_country_leader = {
				name = "Alfonso XIII"
				desc = "POLITICS_ALFONSO_XIII_DESC"
				picture = "gfx/leaders/SPA/portrait_spa_alfonso_xiii.dds"
				expire = "1965.1.1"
				ideology = dual_monarchy
				traits = {
				    disgraced_monarch
				}
			}
			set_party_name = { ideology = monarchy name = SPR_renewal_spain long_name = SPR_renewal_spain }
			hidden_effect = {
				if = {
					limit = { date < 1941.02.28 }
					set_country_flag = SPA_alfonso_kill_flag
				}
			}
			set_cosmetic_tag = SPB_kingdom
		}
	}
	
	focus = {
		id = SPA_repress_carlists
		icon = GFX_focus_spa_eliminate_the_carlists
		prerequisite = { focus = SPA_invite_alfonso_XIII }
		x = 1
		y = 1
		relative_position_id = SPA_invite_alfonso_XIII
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_repress_carlists"
			add_war_support = 0.05
		}
	}
	
	focus = {
		id = SPA_prevention_revolution
		icon = GFX_z_goal_broken_red_star
		prerequisite = { focus = SPA_invite_alfonso_XIII }
		x = -1
		y = 1
		relative_position_id = SPA_invite_alfonso_XIII
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_prevention_revolution"
			add_ideas = SPA_prevention_revolution
			division_template = {
				name = "Militia Brigada"
				is_locked = no
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
					infantry = { x = 0 y = 3 }
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Militia Brigada\" division_template = \"Militia Brigada\" start_experience_factor = 0.4" 
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Militia Brigada\" division_template = \"Militia Brigada\" start_experience_factor = 0.4" 
					owner = ROOT
				}
			}
		}
	}
	
	focus = {
		id = SPA_claims_to_french_throne
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SPA_prevention_revolution }
		x = 0
		y = 1
		relative_position_id = SPA_prevention_revolution
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			NOT = {
				has_war_with = SPR
				has_war_with = ARA
				is_subject_of = event_target:NW_france_scope
				is_in_faction_with = event_target:NW_france_scope
			}
		}
		bypass = {
			OR = {
				NOT = { country_exists = event_target:NW_france_scope }
				event_target:NW_france_scope = { is_subject_of = ROOT }
				has_war_with = event_target:NW_france_scope
				is_in_faction_with = event_target:NW_france_scope
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_claims_to_french_throne"
			create_wargoal = {
				type = puppet_wargoal_focus
				target = event_target:NW_france_scope
			}
			
		}
	}
	
	focus = {
		id = SPA_claims_on_netherlands
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = SPA_prevention_revolution }
		x = 2
		y = 1
		relative_position_id = SPA_prevention_revolution
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			NOT = {
				has_war_with = SPR
				has_war_with = ARA
			}
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_claims_on_netherlands"
			every_state = {
				limit = {
					OR = {
						is_core_of = BEL
						state = 29
						state = 1037
						state = 1038
					}
				}
				add_claim_by = ROOT
			}
		}
	}
	
	
	#########################
	#### FASCISM SECTION ####
	#########################
	
	focus = {
		id = SPA_nationalists
		icon = GFX_focus_spa_unify_the_nationalist_front
		prerequisite = { focus = SPA_create_coordinating_junta }
		mutually_exclusive = { focus = SPA_junta focus = SPA_crusaders }
		x = 15
		y = 1
		relative_position_id = SPA_create_coordinating_junta
		
		cost = 3
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 40
			modifier = {
				factor = 0
				OR = {
					has_country_flag = NW_SPA_AI_NEUTRAL
					has_country_flag = NW_SPA_AI_MONARCHY
				}
			}
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_nationalists"
			add_popularity = {
				ideology = fascism
				popularity = 0.25
			}
		}
	}
	
	focus = {
		id = SPA_facing_the_sun
		icon = GFX_z_goal_flames_of_rebellion
		prerequisite = { focus = SPA_nationalists }
		x = 0
		y = 2
		relative_position_id = SPA_nationalists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_facing_the_sun"
			add_ideas = SPA_facing_the_sun
			hidden_effect = {
				if = {
					limit = { NOT = { has_template = "Elite Division" } }
					division_template = {
						name = "Elite Division"
						priority = 2
						is_locked = yes
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }

							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }

							artillery_brigade = { x = 2 y = 0 }
							artillery_brigade = { x = 2 y = 1 }
							infantry = { x = 2 y = 2 }
						}
						support = {
							artillery = { x = 0 y = 0 }
							engineer = { x = 0 y = 1 }
							recon = { x = 0 y = 2 }
						}
					}
				}
			}
			capital_scope = {
				create_unit = {
					division = "name = \"Elite Division\" division_template = \"Elite Division\" start_experience_factor = 0.6" 
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Elite Division\" division_template = \"Elite Division\" start_experience_factor = 0.6" 
					owner = ROOT
				}
				create_unit = {
					division = "name = \"Elite Division\" division_template = \"Elite Division\" start_experience_factor = 0.6" 
					owner = ROOT
				}
			}
		}
	}
	
	focus = {
		id = SPA_dictatorship_of_franco
		icon = GFX_z_goal_dictatorship_of_franco
		prerequisite = { focus = SPA_nationalists }
		mutually_exclusive = { focus = SPA_edilas_presidency }
		x = -5
		y = 1
		relative_position_id = SPA_nationalists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 5
				NOT = { has_country_flag = NW_SPA_AI_FASCIST_ALTERNATE }
				OR = {
					is_historical_focus_on = yes
					has_country_flag = NW_SPA_AI_FASCIST
				}
			}
			modifier = {
				factor = 0
				has_country_flag = NW_SPA_AI_FASCIST_ALTERNATE
			}
		}
		available = {
			NOT = { has_country_flag = SPR_exchange_primo_de_rivera_flag }
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_dictatorship_of_franco"
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_country_leader_role = {
				character = SPA_francisco_franco
				country_leader = {
					desc = "POLITICS_FRANCISCO_FRANCO_DESC"
					ideology = falangism
					traits = {
						caudilio
					}
					expire = "1965.1.1"
				}
				promote_leader = yes
			}
			random_unit_leader = {
				limit = { has_id = 4701 }
				promote_leader = yes
			}
			hidden_effect = {
				if = {
					limit = { date < 1937.06.03 }
					set_country_flag = SPA_emilio_mola_kill_flag
				}
				else = { country_event = { id = NWspain.102 days = 75 random_days = 30 } }
			}
		}
	}
	
	focus = {
		id = SPA_invite_otto_von_habsburg
		icon = GFX_focus_hun_elect_a_king
		prerequisite = { focus = SPA_restoration_monarchy }
		prerequisite = { focus = SPA_dictatorship_of_franco }
		mutually_exclusive = { focus = SPA_invite_alfonso_XIII }
		x = -2
		y = 2
		relative_position_id = SPA_dictatorship_of_franco
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			if = {
				limit = {
					OR = {
						any_country_with_original_tag = {
							original_tag_to_check = AUS
							has_country_flag = hbbrg_flag
							exists = yes
						}
						any_country_with_original_tag = {
							original_tag_to_check = HUN
							has_country_flag = hbbrg_flag
							exists = yes
						}
						any_country_with_original_tag = {
							original_tag_to_check = CZE
							has_country_flag = hbbrg_flag
							exists = yes
						}
					}
				}
				OR = {
					any_country_with_original_tag = {
						original_tag_to_check = AUS
						has_country_flag = hbbrg_flag
						NOT = { has_war_with = ROOT }
					}
					any_country_with_original_tag = {
						original_tag_to_check = HUN
						has_country_flag = hbbrg_flag
						NOT = { has_war_with = ROOT }
					}
					any_country_with_original_tag = {
						original_tag_to_check = CZE
						has_country_flag = hbbrg_flag
						NOT = { has_war_with = ROOT }
					}
				}
			}
		}
		
		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_invite_otto_von_habsburg"
			add_ideas = SPA_otto_von_habsburg
			if = {
				limit = {
					OR = {
						any_country_with_original_tag = {
							original_tag_to_check = AUS
							has_country_flag = hbbrg_flag
						}
						any_country_with_original_tag = {
							original_tag_to_check = HUN
							has_country_flag = hbbrg_flag
						}
						any_country_with_original_tag = {
							original_tag_to_check = CZE
							has_country_flag = hbbrg_flag
						}
					}
				}
				every_enemy_country = {
					limit = {
						NOT = { tag = SPR }
						has_offensive_war_with = ROOT
					}
					set_country_flag = has_offensive_war_with_ROOT
				}
				every_enemy_country = {
					limit = {
						NOT = { tag = SPR }
						has_defensive_war_with = ROOT
					}
					set_country_flag = has_defensive_war_with_ROOT
				}
				random_other_country = {
					limit = { has_country_flag = hbbrg_flag }
					if = {
						limit = { has_government = fascism }
						set_autonomy = {
							target = ROOT
							autonomy_state = autonomy_satellite
						}
					}
					if = {
						limit = { NOT = { has_government = fascism } }
						set_autonomy = {
							target = ROOT
							autonomy_state = autonomy_dominion
						}
					}
					set_country_flag = kingSPA_flag
					add_country_leader_trait = kingSPA
				}
			}
			hidden_effect = {
				if = {
					limit = { country_exists = SPR }
					SPR = {
						declare_war_on = {
							target = ROOT
							type = civil_war
						}
						add_civil_war_target = ROOT
					}
				}
				every_other_country = {
					limit = { has_country_flag = has_offensive_war_with_ROOT }
					clr_country_flag = has_offensive_war_with_ROOT
					declare_war_on = {
						target = ROOT
						type = annex_everything
					}
				}
				every_other_country = {
					limit = { has_country_flag = has_defensive_war_with_ROOT }
					clr_country_flag = has_defensive_war_with_ROOT
					ROOT = {
						declare_war_on = {
							target = PREV
							type = annex_everything
						}
					}
				}
			}
			set_cosmetic_tag = SPA_spanish_empire
		}
	}
	
	focus = {
		id = SPA_defender_catholicism
		icon = GFX_z_goal_return_constantinople
		prerequisite = { focus = SPA_invite_otto_von_habsburg }
		x = 0
		y = 1
		relative_position_id = SPA_invite_otto_von_habsburg
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_defender_catholicism"
			add_war_support = 0.07
		}
	}
	
	focus = {
		id = SPA_christian_empire
		icon = GFX_z_goal_monarchism_6
		prerequisite = { focus = SPA_invite_otto_von_habsburg }
		x = 2
		y = 1
		relative_position_id = SPA_invite_otto_von_habsburg
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_christian_empire"
			add_ideas = SPA_christian_empire
			980 = { add_claim_by = ROOT }
			980 = {
				controller = {
					add_ai_strategy = {
						type = antagonize
						id = ROOT
						value = 200
					}
					add_ai_strategy = {
						type = conquer
						id = ROOT
						value = 200
					}
					ROOT = {
						add_ai_strategy = {
							type = antagonize
							id = PREV
							value = 200
						}
						add_ai_strategy = {
							type = conquer
							id = PREV
							value = 200
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = SPA_catholic_league
		icon = GFX_z_goal_monarchism_9
		prerequisite = { focus = SPA_defender_catholicism }
		mutually_exclusive = {
			focus = SPA_latin_union
			focus = SPA_talks_accession_axis
			focus = SPA_call_for_italy_help
			focus = SPA_antisocialist_union
			focus = SPA_invincible_armada
		}
		x = 2
		y = 2
		relative_position_id = SPA_defender_catholicism
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		available = {
			is_subject = no
			is_in_faction = no
			OR = {
				has_global_flag = scw_over
				date > 1939.1.1
			}
		}
		bypass = {
			OR = {
				is_in_faction = yes
				is_subject = yes
			}
		}
		

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_catholic_league"
			if = {
				limit = {
					OR = {
						any_country_with_original_tag = {
							original_tag_to_check = AUS
							has_country_flag = hbbrg_flag
							has_completed_focus = HBBRG_catholic_league
						}
						any_country_with_original_tag = {
							original_tag_to_check = HUN
							has_country_flag = hbbrg_flag
							has_completed_focus = HBBRG_catholic_league
						}
						any_country_with_original_tag = {
							original_tag_to_check = CZE
							has_country_flag = hbbrg_flag
							has_completed_focus = HBBRG_catholic_league
						}
					}
				}
				set_rule = { can_create_factions = yes }
				random_other_country = {
					limit = { has_country_flag = hbbrg_flag }
					country_event = { id = generic.2 }
				}
			}
			else = {
				set_rule = { can_create_factions = yes }
				create_faction = SPA_catholic_league
				if = {
					limit = {
						country_exists = VAT
						VAT = {
							is_in_faction = no
							is_subject = no
						}
					}
					VAT = { country_event = { id = generic.5 } }
				}
			}
		}
	}
	
	focus = {
		id = SPA_invitation_faithful
		icon = GFX_z_goal_monarchism_10
		prerequisite = { focus = SPA_catholic_league }
		mutually_exclusive = { focus = SPA_invitation_italy }
		x = 0
		y = 1
		relative_position_id = SPA_catholic_league
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			is_faction_leader = yes
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_invitation_faithful"
			if = {
				limit = { POR = { exists = yes } }
				POR = { country_event = { id = generic.5 } }
			}
			if = {
				limit = { AUS = { exists = yes } }
				AUS = { country_event = { id = generic.5 } }
			}
			if = {
				limit = { HUN = { exists = yes } }
				HUN = { country_event = { id = generic.5 } }
			}
		}
	}
	
	focus = {
		id = SPA_invitation_italy
		icon = GFX_z_goal_italy
		prerequisite = { focus = SPA_catholic_league }
		mutually_exclusive = { focus = SPA_invitation_faithful }
		x = 2
		y = 1
		relative_position_id = SPA_catholic_league
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
		}
		available = {
			is_faction_leader = yes
			ITA = {
				OR = {
					has_government = fascism
					has_government = neutrality
				}
			}
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_invitation_italy"
			ITA = { country_event = { id = generic.5 days = 0 } }
		}
	}
	
	focus = {
		id = SPA_expand_power_generalissimo
		icon = GFX_focus_generic_military_mission
		prerequisite = { focus = SPA_dictatorship_of_franco }
		mutually_exclusive = { focus = SPA_restoration_monarchy }
		x = 0
		y = 1
		relative_position_id = SPA_dictatorship_of_franco
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 10
				is_historical_focus_on = yes
			}
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_expand_power_generalissimo"
			add_political_power = 100
			set_cosmetic_tag = SPA_franco
		}
	}
	
	focus = {
		id = SPA_getting_rid_dissenting_generals
		icon = GFX_z_goal_getting_rid_generals
		prerequisite = { focus = SPA_expand_power_generalissimo }
		x = 0
		y = 1
		relative_position_id = SPA_expand_power_generalissimo
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				is_historical_focus_on = yes
			}
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_getting_rid_dissenting_generals"
			add_popularity = {
				ideology = neutrality
				popularity = -0.2
			}
			add_ideas = SPA_getting_rid_dissenting_generals_idea
		}
	}
	
	focus = {
		id = SPA_uniting_right_around_phalangs
		icon = GFX_focus_spa_the_phalanx_ascendant
		prerequisite = { focus = SPA_dictatorship_of_franco }
		x = 2
		y = 1
		relative_position_id = SPA_dictatorship_of_franco
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				is_historical_focus_on = yes
			}
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_uniting_right_around_phalangs"
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			add_popularity = {
				ideology = monarchy
				popularity = -0.1
			}
		}
	}
	
	focus = {
		id = SPA_getting_rid_old_shirts
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = SPA_uniting_right_around_phalangs }
		x = 2
		y = 1
		relative_position_id = SPA_uniting_right_around_phalangs
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_getting_rid_old_shirts"
			add_stability = 0.05
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
		}
	}
	
	focus = {
		id = SPA_adoption_twenty_six_principles_phalangists
		icon = GFX_z_support_in_spanish_phalanga_2
		prerequisite = { focus = SPA_uniting_right_around_phalangs }
		x = 0
		y = 1
		relative_position_id = SPA_uniting_right_around_phalangs
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 4
				is_historical_focus_on = yes
			}
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_adoption_twenty_six_principles_phalangists"
			add_war_support = 0.05
			add_stability = 0.05
			add_ideas = SPA_adoption_twenty_six_principles_phalangists_idea
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPA_national_security_act
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SPA_adoption_twenty_six_principles_phalangists }
		x = 0
		y = 1
		relative_position_id = SPA_adoption_twenty_six_principles_phalangists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 5
				is_historical_focus_on = yes
			}
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_national_security_act"
			add_ideas = SPA_national_security_act
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPA_synthesis_phalangism_and_capitalism
		icon = GFX_z_goal_syndicates
		prerequisite = { focus = SPA_adoption_twenty_six_principles_phalangists }
		x = 2
		y = 1
		relative_position_id = SPA_adoption_twenty_six_principles_phalangists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_synthesis_phalangism_and_capitalism"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPA_call_for_italy_help
		icon = GFX_goal_generic_dangerous_deal
		#prerequisite = { focus = SPA_create_coordinating_junta }
		mutually_exclusive = {
			focus = SPA_latin_union
			focus = SPA_catholic_league
			focus = SPA_talks_accession_axis
			focus = SPA_antisocialist_union
			focus = SPA_invincible_armada
		}
		x = 4
		y = 0
		relative_position_id = SPA_antisocialist_union
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0.1
				NOT = { country_exists = SPR }
			}
			modifier = {
				factor = 0.5
				num_of_controlled_states > 7
			}
			modifier = {
				factor = 10
				num_of_controlled_states < 3
			}
		}
		available = {
			is_subject = no
			is_in_faction = no
			has_completed_focus = SPA_create_coordinating_junta
			country_exists = ITA
			NOT = {
				ITA = {
					has_war_with = RSI
					has_government = democratic
					has_government = communism
					has_government = trozkism
					has_government = anarchism
				}
			}
			has_global_flag = spanish_civil_war
			NOT = { has_global_flag = scw_over }
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_call_for_italy_help"
			ITA = { country_event = { id = NWspain.109 } }
			custom_effect_tooltip = SPA_call_for_italy_help_tt
		}
	}
	
	focus = {
		id = SPA_talks_accession_axis
		icon = GFX_goal_generic_major_alliance
		#prerequisite = { focus = SPA_create_coordinating_junta }
		mutually_exclusive = {
			focus = SPA_latin_union
			focus = SPA_catholic_league
			focus = SPA_call_for_italy_help
			focus = SPA_antisocialist_union
			focus = SPA_invincible_armada
		}
		x = 2
		y = 0
		relative_position_id = SPA_call_for_italy_help
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0.1
				GFA = { has_civil_war = yes }
			}
			modifier = {
				factor = 0.5
				NOT = { has_global_flag = scw_over }
			}
		}
		available = {
			is_subject = no
			is_in_faction = no
			has_completed_focus = SPA_create_coordinating_junta
			GFA = {
				is_faction_leader = yes
			}
		}
		bypass = {
			is_in_faction = yes
			NOT = {
				has_completed_focus = SPA_latin_union
				has_completed_focus = SPA_catholic_league
				has_completed_focus = SPA_call_for_italy_help
				has_completed_focus = SPA_antisocialist_union
				has_completed_focus = SPA_invincible_armada
			}
			has_completed_focus = SPA_invite_alfonso_XIII
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_talks_accession_axis"
			GFA = {
				country_event = { id = NWspain.110 days = 1 }
			}
		}
	}
	
	focus = {
		id = SPA_reintegration_gibraltar
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SPA_talks_accession_axis }
		x = 0
		y = 1
		relative_position_id = SPA_talks_accession_axis
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				OR = {
					has_war_with = SPR
					has_war_with = ARA
				}
			}
		}
		available = {
			NOT = { has_idea = SPA_recovering_from_civil_war }
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_reintegration_gibraltar"
			118 = { add_core_of = ROOT }
		}
	}
	
	focus = {
		id = SPA_claims_french_colonies
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SPA_talks_accession_axis }
		x = -2
		y = 1
		relative_position_id = SPA_talks_accession_axis
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
			modifier = {
				factor = 0
				OR = {
					has_war_with = SPR
					has_war_with = ARA
				}
			}
		}
		available = {
			NOT = { has_idea = SPA_recovering_from_civil_war }
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_claims_french_colonies"
			every_state = {
				limit = {
					OR = {
						state = 461
						state = 462
					}
				}
				add_claim_by = ROOT
			}
			if = {
				limit = { NOT = { has_country_flag = SPA_not_claims_camerun } }
				every_state = {
					limit = {
						is_core_of = CMR
					}
					add_claim_by = ROOT
				}
			}
		}
	}
	
	
	focus = {
		id = SPA_edilas_presidency
		icon = GFX_z_goal_manuel_hedilla
		prerequisite = { focus = SPA_nationalists }
		mutually_exclusive = { focus = SPA_dictatorship_of_franco }
		x = 5
		y = 1
		relative_position_id = SPA_nationalists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				OR = {
					is_historical_focus_on = yes
					has_country_flag = NW_SPA_AI_FASCIST
				}
			}
			modifier = {
				add = 500
				has_country_flag = NW_SPA_AI_FASCIST_ALTERNATE
			}
		}
		available = {
			OR = {
				has_country_flag = SPA_edilas_presidency_flag
				has_country_flag = SPR_exchange_primo_de_rivera_flag
			}
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_edilas_presidency"
			if = {
				limit = {
					has_country_flag = SPR_exchange_primo_de_rivera_flag 
					NOT = { has_country_flag = SPA_edilas_presidency_flag }
				}
				custom_effect_tooltip = SPA_edilas_presidency_rivera_tt
				create_country_leader = {
					name = "José Antonio Primo de Rivera"
					id = 4704
					desc = "POLITICS_JOSE_DE_RIVERA_DESC"
					picture = "gfx/leaders/SPA/portrait_spa_jose_antonio_primo_de_rivera.dds"
					expire = "1965.1.1"
					ideology = fascism_ideology
					traits = {
						jefe_nacional
						sins_of_the_father
					}
				}
			}
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
			set_cosmetic_tag = SPA_falangism
		}
	}
	
	focus = {
		id = SPA_national_revolution
		icon = GFX_goal_generic_demand_territory
		prerequisite = { focus = SPA_edilas_presidency }
		x = -2
		y = 1
		relative_position_id = SPA_edilas_presidency
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_national_revolution"
			add_war_support = 0.05
		}
	}
	
	focus = {
		id = SPA_rejection_capitalism
		icon = GFX_z_goal_antimarket
		prerequisite = { focus = SPA_national_revolution }
		x = -1
		y = 1
		relative_position_id = SPA_national_revolution
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_rejection_capitalism"
			add_stability = 0.05
			add_ideas = SPA_rejection_capitalism
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPA_falangist_revolution
		icon = GFX_z_goal_authority
		prerequisite = { focus = SPA_national_revolution }
		x = 1
		y = 1
		relative_position_id = SPA_national_revolution
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_falangist_revolution"
			add_ideas = SPA_falangist_revolution
		}
	}
	
	focus = {
		id = SPA_portuguese_national_syndicalists
		icon = GFX_z_goal_friend_portugal
		prerequisite = { focus = SPA_falangist_revolution }
		x = 0
		y = 1
		relative_position_id = SPA_falangist_revolution
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_portuguese_national_syndicalists"
			POR = { add_timed_idea = { idea = fascist_influence days = 90 } }
		}
	}
	
	focus = {
		id = SPA_superiority_old_shirts
		icon = GFX_z_goal_conscription
		prerequisite = { focus = SPA_portuguese_national_syndicalists }
		x = 0
		y = 1
		relative_position_id = SPA_portuguese_national_syndicalists
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_superiority_old_shirts"
			add_ideas = SPA_superiority_old_shirts
		}
	}
	
	focus = {
		id = SPA_repression_against_right
		icon = GFX_z_goal_repression_against_monarchists
		prerequisite = { focus = SPA_edilas_presidency }
		x = 0
		y = 1
		relative_position_id = SPA_edilas_presidency
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_repression_against_right"
			add_popularity = {
				ideology = monarchy
				popularity = -0.1
			}
		}
	}
	
	focus = {
		id = SPA_latin_union
		icon = GFX_focus_spa_strengthen_the_supreme_reality_of_spain
		prerequisite = { focus = SPA_superiority_old_shirts }
		mutually_exclusive = {
			focus = SPA_catholic_league
			focus = SPA_talks_accession_axis
			focus = SPA_call_for_italy_help
			focus = SPA_antisocialist_union
			focus = SPA_invincible_armada
		}
		x = 0
		y = 1
		relative_position_id = SPA_superiority_old_shirts
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			is_subject = no
			is_in_faction = no
			OR = {
				has_global_flag = scw_over
				date > 1939.1.1
			}
		}
		bypass = {
			OR = {
				is_in_faction = yes
				is_subject = yes
			}
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_latin_union"
			set_rule = { can_create_factions = yes }
			create_faction = SPA_latin_union
		}
	}
	
	focus = {
		id = SPA_invitation_italy_latin_union
		icon = GFX_z_goal_italy
		prerequisite = { focus = SPA_latin_union }
		mutually_exclusive = { focus = SPA_invitation_mexico_latin_union }
		x = -1
		y = 1
		relative_position_id = SPA_latin_union
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			is_faction_leader = yes
			ITA = { has_government = fascism }
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_invitation_italy_latin_union"
			ITA = { country_event = { id = generic.5 days = 0 } }
		}
	}
	
	focus = {
		id = SPA_invitation_mexico_latin_union
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = SPA_latin_union }
		mutually_exclusive = { focus = SPA_invitation_italy_latin_union }
		x = 1
		y = 1
		relative_position_id = SPA_latin_union
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			is_faction_leader = yes
			OR = {
				MEX = {
					has_government = fascism
					exists = yes
					NOT = { has_war_with = KMX }
				}
				KMX = {
					has_government = fascism
					exists = yes
					NOT = { has_war_with = MEX }
				}
			}
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_invitation_mexico_latin_union"
			if = {
				limit = { MEX = { exists = yes } }
				MEX = { country_event = { id = generic.5 days = 0 } }
			}
			if = {
				limit = { KMX = { exists = yes } }
				KMX = { country_event = { id = generic.5 days = 0 } }
			}
		}
	}
	
	focus = {
		id = SPA_restoration_empire
		icon = GFX_goal_generic_major_war
		prerequisite = { focus = SPA_latin_union }
		x = 0
		y = 2
		relative_position_id = SPA_latin_union
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_restoration_empire"
			every_state = {
				limit = {
					OR = {
						is_core_of = VEN
						is_core_of = COL
						is_core_of = DOM
						is_core_of = CUB
						is_core_of = HAI
					}
				}
				add_claim_by = ROOT
			}
		}
	}
	
	focus = {
		id = SPA_social_reform
		icon = GFX_focus_generic_military_academy
		prerequisite = { focus = SPA_edilas_presidency }
		x = 2
		y = 1
		relative_position_id = SPA_edilas_presidency
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_social_reform"
			add_stability = 0.1
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPA_proletarian_propaganda
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = SPA_social_reform }
		x = 0
		y = 1
		relative_position_id = SPA_social_reform
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_proletarian_propaganda"
			add_popularity = {
				ideology = communism
				popularity = -0.05
			}
			add_popularity = {
				ideology = democratic
				popularity = -0.05
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPA_activation_anticlericalism
		icon = GFX_focus_mex_triumph_over_the_cristeros
		prerequisite = { focus = SPA_proletarian_propaganda }
		x = 0
		y = 1
		relative_position_id = SPA_proletarian_propaganda
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_activation_anticlericalism"
			add_popularity = {
				ideology = fascism
				popularity = 0.1
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPA_defense_revolution
		icon = GFX_focus_mex_soldaderas
		prerequisite = { focus = SPA_activation_anticlericalism }
		x = 0
		y = 1
		relative_position_id = SPA_activation_anticlericalism
		
		cost = 10
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_defense_revolution"
			add_war_support = 0.05
			add_ideas = SPA_defense_revolution
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	
	##########################
	#### INDUSTRY SECTION ####
	##########################
	
	
	focus = {
		id = SPA_adoption_charter_of_labor
		icon = GFX_focus_hol_the_foundations_of_defense
		x = 35
		y = 6
		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
		}
		bypass = {
		}
		
		select_effect = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_adoption_charter_of_labor"
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1.0
				uses = 2
				category = industry
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					hospital < 5
				}
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPA_autarky
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = SPA_adoption_charter_of_labor }
		x = -1
		y = 1
		relative_position_id = SPA_adoption_charter_of_labor
		
		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_autarky"
			add_ideas = GER_autarky_idea
		}
	}
	
	focus = {
		id = SPA_national_institute_industrial
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = SPA_autarky }
		x = -2
		y = 1
		relative_position_id = SPA_autarky
		
		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_national_institute_industrial"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPA_development_mining_industry
		icon = GFX_z_goal_excavations
		prerequisite = { focus = SPA_autarky }
		x = 0
		y = 1
		relative_position_id = SPA_autarky
		
		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_development_mining_industry"
			173 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPA_creation_syndicates
		icon = GFX_z_goal_syndicates
		prerequisite = { focus = SPA_adoption_charter_of_labor }
		x = 1
		y = 1
		relative_position_id = SPA_adoption_charter_of_labor
		
		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_creation_syndicates"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPA_capture_syndicates_under_government_control
		icon = GFX_z_goal_controlled_unions
		prerequisite = { focus = SPA_creation_syndicates }
		x = 0
		y = 1
		relative_position_id = SPA_creation_syndicates
		
		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_capture_syndicates_under_government_control"
			add_ideas = SPA_syndicates_under_government_control
		}
	}
	
	focus = {
		id = SPA_national_institute_colonization
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = SPA_adoption_charter_of_labor }
		x = 3
		y = 1
		relative_position_id = SPA_adoption_charter_of_labor
		
		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_national_institute_colonization"
			capital_scope = {
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				
				add_building_construction = {
					type = hospital
					level = 1
					instant_build = yes
				}
				every_neighbor_state = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					add_building_construction = {
						type = hospital
						level = 1
						instant_build = yes
					}
				} 
			}
		}
	}
	
	focus = {
		id = SPA_call_to_work_for_victory
		icon = GFX_z_goal_voluntary_creation_of_collective
		x = 5
		y = 0
		relative_position_id = SPA_adoption_charter_of_labor
		
		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_call_to_work_for_victory"
			add_ideas = SPA_call_to_work_for_victory
		}
	}
	
	focus = {
		id = SPA_militarization_economy
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SPA_call_to_work_for_victory }
		x = 0
		y = 1
		relative_position_id = SPA_call_to_work_for_victory
		
		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_militarization_economy"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPA_economics_civil_war
		icon = GFX_z_goal_factory_complex
		prerequisite = { focus = SPA_militarization_economy }
		x = 0
		y = 1
		relative_position_id = SPA_militarization_economy
		
		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_economics_civil_war"
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = SPA_three_year_plan
		icon = GFX_z_goal_production
		prerequisite = { focus = SPA_national_institute_industrial }
		prerequisite = { focus = SPA_development_mining_industry }
		prerequisite = { focus = SPA_capture_syndicates_under_government_control }
		prerequisite = { focus = SPA_economics_civil_war }
		x = 0
		y = 2
		relative_position_id = SPA_national_institute_colonization
		
		cost = 7.2
		
		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes

		ai_will_do = {
			factor = 5
		}
		available = {
			
		}
		bypass = {
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName] ([Root.GetTag]): Focus SPA_three_year_plan"
			add_research_slot = 1
		}
	}
	
}
